html, body, #app { height: 100%; margin: 0; }
body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; color: #222; }
#canvas-container { position: fixed; inset: 0; background: #f5f5f8; }

.panel {
  position: fixed; top: 10px; right: 10px; width: 320px; max-height: 90vh;
  overflow: auto; padding: 10px 12px; border-radius: 8px; background: rgba(255,255,255,0.92);
  box-shadow: 0 8px 20px rgba(0,0,0,0.15); backdrop-filter: blur(4px);
}
.panel h3 { margin: 8px 0 10px 0; font-size: 16px; }
.panel details { margin: 6px 0; }
.panel summary { cursor: pointer; font-weight: 600; }
.row { display: flex; align-items: center; gap: 8px; margin: 6px 0; }
.row label { width: 90px; font-size: 13px; color: #333; }
.row input[type="range"] { flex: 1; }
.column { display: flex; flex-direction: column; gap: 8px; }
.panel input[type="number"] { width: 70px; }
.row .val { min-width: 48px; text-align: right; font-size: 12px; color: #333; font-variant-numeric: tabular-nums; }

button { padding: 6px 10px; border-radius: 6px; border: 1px solid #ddd; background: #fff; cursor: pointer; }
button:hover { background: #f0f2f5; }
button.active { background: #e8f1ff; border-color: #a7c8ff; }

.marker-layer { position: fixed; inset: 0; pointer-events: none; }
.marker { position: absolute; transform: translate(-50%, -50%); pointer-events: none; }
.marker svg { width: 100%; height: 100%; display:block; }
.marker svg * { vector-effect: non-scaling-stroke; }
.marker.label { transform: translate(-50%, -120%); font-weight: 700; font-size: 12px; color: #111; background: rgba(255,255,255,0.95); border: 1px solid #000; border-radius: 3px; padding: 1px 3px; }

#stops .stop-row { display:flex; align-items:center; gap:8px; margin:4px 0; }
#stops .stop-row input[type="range"] { width: 120px; }
#stops .stop-row button { padding: 2px 6px; }

.surface-manager { margin-bottom: 12px; }
.surface-manager .row { margin: 4px 0; }

.toast { position: fixed; top: 18px; left: 50%; transform: translateX(-50%); background: rgba(40,40,45,0.92); color: #fff; padding: 8px 16px; border-radius: 6px; font-size: 13px; font-weight: 500; opacity: 0; pointer-events: none; transition: opacity 0.25s ease; z-index: 1000; box-shadow: 0 6px 18px rgba(0,0,0,0.25); }
.toast.show { opacity: 1; }
